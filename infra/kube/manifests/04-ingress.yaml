# source https://docs.ovh.com/au/en/kubernetes/installing-nginx-ingress/

  # apiVersion: networking.k8s.io/v1
  # kind: Ingress
  # metadata:
  #   name: ingress-basegun
  #   namespace: basegun
  #   annotations:
  #     cert-manager.io/issuer: "letsencrypt-preprod"
  # spec:
  #   rules:
  #     - host: preprod.basegun.fr
  #       http:
  #         paths:
  #           - backend:
  #               service:
  #                 name: basegun-frontend
  #                 port:
  #                   number: 8080
  #             path: /
  #             pathType: Prefix
  #   tls:
  #   - hosts:
  #     - preprod.basegun.fr
  #     secretName: letsencrypt-preprod

# example without DNS
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: ingress
  namespace: basegun
spec:
  rules:
  - host: kubernetes.docker.internal
    http:
      paths:
      - backend:
          service:
            name: basegun-frontend
            port:
              number: 8080
        path: /
        pathType: Prefix